<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="790px" height="529px" version="1.1"><defs/><g transform="translate(0.5,0.5)"><path d="M 396 41 C 396 30.33 456 30.33 456 41 L 456 85 C 456 95.67 396 95.67 396 85 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 396 41 C 396 49 456 49 456 41 M 396 45 C 396 53 456 53 456 45 M 396 49 C 396 57 456 57 456 49" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(397.5,58.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="56" height="25" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 56px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Event Store</div></div></foreignObject><text x="28" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Event Store</text></switch></g><path d="M 400.56 146.12 C 400.77 145.45 401.46 145 402.23 145.02 L 450.51 145.02 L 455.5 152.71 L 450.51 160 L 402.11 160 C 401.65 159.98 401.22 159.78 400.93 159.46 C 400.63 159.14 400.5 158.72 400.56 158.31 Z M 401.67 158.17 C 401.8 158.67 402.31 159.02 402.89 159.01 L 450.01 159.01 L 454.39 152.71 L 450.01 145.97 L 402.89 145.97 C 402.39 145.92 401.9 146.16 401.67 146.56 Z M 403.34 148.55 C 403.38 148.09 403.77 147.72 404.28 147.65 L 416.6 147.65 C 417.11 147.72 417.5 148.09 417.54 148.55 L 417.54 156.68 C 417.4 157.07 417.01 157.35 416.54 157.37 L 404.39 157.37 C 403.93 157.35 403.53 157.07 403.39 156.68 Z M 404.83 150.43 L 404.83 156.18 L 416.15 156.18 L 416.15 150.33 L 410.94 153.85 C 410.57 154.07 410.09 154.07 409.72 153.85 Z M 410.38 152.76 L 415.93 148.89 L 404.89 148.89 Z M 419.1 148.55 C 419.12 148.13 419.43 147.78 419.87 147.65 L 432.36 147.65 C 432.8 147.78 433.11 148.13 433.14 148.55 L 433.14 156.68 C 433.03 157.02 432.74 157.28 432.36 157.37 L 419.87 157.37 C 419.49 157.28 419.2 157.02 419.1 156.68 Z M 420.48 150.38 L 420.48 156.18 L 431.8 156.18 L 431.75 150.38 L 426.64 153.85 C 426.25 154.12 425.71 154.12 425.31 153.85 Z M 426.03 152.76 L 431.64 148.89 L 420.48 148.89 Z M 434.75 148.55 C 434.79 148.09 435.18 147.72 435.69 147.65 L 447.95 147.65 C 448.46 147.72 448.85 148.09 448.9 148.55 L 448.9 156.48 C 448.87 156.74 448.72 156.99 448.49 157.15 C 448.26 157.32 447.97 157.4 447.68 157.37 L 435.69 157.37 C 435.25 157.33 434.88 157.06 434.75 156.68 Z M 436.08 150.38 L 436.08 156.18 L 447.4 156.18 L 447.4 150.38 L 442.18 153.85 C 441.84 154.03 441.41 154.03 441.07 153.85 Z M 441.68 152.76 L 447.23 148.89 L 436.13 148.89 Z" fill="#00bef2" stroke="none" pointer-events="none"/><ellipse cx="426" cy="262" rx="30" ry="30" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="none"/><g transform="translate(400.5,255.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="49" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 49px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Receptor</div></div></foreignObject><text x="25" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Receptor</text></switch></g><path d="M 296.24 262 L 396 262" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 302.12 258.5 L 295.12 262 L 302.12 265.5" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(334.5,266.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="33" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;"><b>Event</b></div></div></foreignObject><text x="17" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;b&gt;Event&lt;/b&gt;</text></switch></g><ellipse cx="254" cy="262" rx="40" ry="40" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(215.5,249.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="76" height="25" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 76px; white-space: normal; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Coordination Office</div></div></foreignObject><text x="38" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Coordination Office</text></switch></g><g transform="translate(5.5,341.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="577" height="181" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 185px; max-width: 577px; width: 577px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h1>Process Manager</h1><p>Process Manager executes concrete business process instance (e.g. User Registration Process for user X). </p><p>Process Manager is persistent, event-sourced actor. State transition of the process is communicated by Process Manager by an event (like UserEmailConfirmed). Transitions are triggered by external events that Process Manager receives. </p><p>Process Manager is created or activated automatically by Coordination Office whenever external event related (correlated) to this instance of business process is received.</p><p><span style="font-size: 10px ; line-height: 1.26">Sends commands to Command Offices (at-least-once delivery).</span></p><p><span style="font-size: 10px ; line-height: 1.26">Schedules timeout/deadline events. </span><br /></p></div></div></foreignObject><text x="289" y="96" fill="#000000" text-anchor="middle" font-size="10px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><ellipse cx="137" cy="256" rx="30" ry="30" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="none"/><ellipse cx="142" cy="59" rx="39.5" ry="39.5" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(114.5,45.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="55" height="25" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 56px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Command<div>Office</div></div></div></foreignObject><text x="28" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><g transform="translate(482.5,187.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="291" height="161" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 180px; max-width: 291px; width: 291px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h1>Receptor</h1><p><span>Receives events from the configured event stream.</span><br /></p><p>Configurable.</p><p>When configured with Coordination Office as the receiver, uses correlationId resolver (function that maps an event to saga id (eg. UserCreated(userId: EntityId, ...) =&gt; userId) defined in the ProcessConfig to add CorrelationId meta-attribute to the event message.</p></div></div></foreignObject><text x="146" y="86" fill="#000000" text-anchor="middle" font-size="10px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><g transform="translate(492.5,15.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="290" height="105" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; overflow: hidden; max-height: 116px; max-width: 290px; width: 290px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h1>Business Process Stream (BPS)</h1><p>Stream of events particular business process (eg. User Registration) <span style="line-height: 1.26">is interested in.</span></p></div></div></foreignObject><text x="145" y="58" fill="#000000" text-anchor="middle" font-size="10px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><rect x="78" y="204" width="230" height="116" rx="17.4" ry="17.4" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><path d="M 279.98 63 L 318 63 L 389.63 63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 394.88 63 L 387.88 66.5 L 389.63 63 L 387.88 59.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(331.5,69.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="33" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;"><b>Event</b></div></div></foreignObject><text x="17" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;b&gt;Event&lt;/b&gt;</text></switch></g><path d="M 181.5 54 L 221.63 54" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 226.88 54 L 219.88 57.5 L 221.63 54 L 219.88 50.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="249" cy="54" rx="21" ry="21" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="none"/><ellipse cx="259" cy="64" rx="21" ry="21" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="none"/><g transform="translate(249.5,57.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="17" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 17px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">AR</div></div></foreignObject><text x="9" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">AR</text></switch></g><ellipse cx="147" cy="268" rx="30" ry="30" fill="#ffffff" stroke="#000000" stroke-width="2" pointer-events="none"/><g transform="translate(122.5,254.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="47" height="25" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 48px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Process<div>Manager</div></div></div></foreignObject><text x="24" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 107 256 L 38 256 L 38 59 L 96.63 59" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 101.88 59 L 94.88 62.5 L 96.63 59 L 94.88 55.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(8.5,152.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="58" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;background-color:#ffffff;"><b>Command</b></div></div></foreignObject><text x="29" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;b&gt;Command&lt;/b&gt;</text></switch></g><rect x="78" y="1" width="220" height="116" rx="17.4" ry="17.4" fill="none" stroke="#000000" stroke-dasharray="3 3" pointer-events="none"/><path d="M 214 262 L 194 262 L 197 262 L 183.37 262" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 178.12 262 L 185.12 258.5 L 183.37 262 L 185.12 265.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 426 93 L 426 137.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 426 142.88 L 422.5 135.88 L 426 137.63 L 429.5 135.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(370.5,145.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="24" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; white-space: nowrap;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">BPS</div></div></foreignObject><text x="12" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">BPS</text></switch></g><path d="M 426 160 L 426 182 L 426 225.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 426 230.88 L 422.5 223.88 L 426 225.63 L 429.5 223.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/></g></svg>